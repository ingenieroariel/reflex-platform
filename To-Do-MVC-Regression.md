## Test Plan for Reflex-Platform
```
mkdir rp-sandbox
cd rp-sandbox
git clone git@github.com:reflex-frp/reflex-platform.git
cd reflex-platform
git checkout <git commit that you are testing>
```
### Making sure that the try-reflex shell works
```
./try-reflex
```
Copy the following into the shell (all at once):
```
cat >hello.hs <<EOF
{-# LANGUAGE OverloadedStrings #-}
import Reflex.Dom
main = mainWidget $ text "Hello, world!"
EOF
```
```
ghc hello.hs
./hello
```
A successful build looks like this:
[pic here]

```
ghcjs hello.hs
chromium hello.jsexe/index.html
```

### Testing the host.hs example
```
ghc examples/host.hs
./examples/host
```
Follow the instructions and confirm that the output event is a sequence of all of the letters you have entered
To exit, ctrl-c. 
Exit the try-reflex shell with the exit command
```
exit
```

### Running a build on the web
```
nix-build -A ghcjs.reflex-todomvc
```
If successful this will give you a file path. Navigate to a browswer (like chrome) and enter the following (with the path) into the bar:
```
file:///<insert nix path from previous instruction here>/bin/reflex-todomvc.jsexe/index.html
```
You should test this app. 

### Android App:
```
nix-build release.nix -A x86_64-linux.androidReflexTodomvc
```
Use the line generated by the command above to run the next command
Make sure that your android device has been plugged in, that you have deleted any app titled "reflex-todomvc" from the phone, and that you have unlocked and accepted permissions on the phone before running the following:
```
<nix path from command above>/bin/deploy
```
### Testing TODOMVC app on IOS
IOS:
  - Register your OS email with an apple id account. Then, using this id, create an apple developer account
  - Ask the OS manager (Ali, Hector) to add you to the Obsidian developer group. You can only do this after you have 
    created an apple developer account (in the above step).
  - 

### Testing the 'work-on-multi' script
```
scripts/hack-on haskell-overlays/reflex-packages/dep/reflex
nano cabal.project.local
```
Enter and save the following:
```
projects:
  haskell-overlays/reflex-packages/dep/reflex-dom/
  haskell-overlays/reflex-packages/dep/reflex-dom-core/
  examples/work-on-test/
```

Run the work-on script:
```
scripts/work-on ghc './examples/work-on-test/'
cd examples/work-on-test
cabal new-build
cabal new-run
cd ../../
exit
```

Run the work-on-multi script:
```
scripts/work-on-multi ghc reflex-dom reflex-dom-core
cabal new-configure
cabal new-build all
cabal new-run work-on-test
exit
scripts/hack-off haskell-overlays/reflex-packages/dep/reflex
```


### Removing the sandbox dir:
```
cd ../../
rm -rf rp-sandbox
```



